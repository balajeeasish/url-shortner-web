{"ast":null,"code":"var _jsxFileName = \"/Users/balajeeasishbrahmandam/Downloads/URL Shortner/url-shortener-web-master/src/pages/ShortUrlGenerateForm/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport TextInput from \"../../components/TextInput\";\nimport AppConstants from \"../../App.constants\";\nimport \"./ShortUrlGenerateForm.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShortUrlGenerateForm = () => {\n  _s();\n\n  const [longURL, setLongURL] = useState(\"\");\n  const [isFormLoading, setIsFormLoding] = useState(false);\n  const [formErrorMessage, setFormErrorMessage] = useState(\"\");\n  const [shortUrlData, setShortUrlData] = useState(null);\n\n  const onLongURLSubmit = () => {\n    setIsFormLoding(true);\n    setShortUrlData(null);\n    fetch(`${AppConstants.API_URL}/urls`, {\n      method: \"post\",\n      body: JSON.stringify({\n        longURL\n      }),\n      headers: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      } else {\n        response.json().then(data => {\n          setFormErrorMessage(data.errorMessage);\n          setIsFormLoding(false);\n        });\n      }\n    }).then(data => {\n      setShortUrlData(data);\n      setIsFormLoding(false);\n      setFormErrorMessage(\"\");\n    });\n  };\n\n  const onShortUrlClick = e => {\n    const shortUrlEl = e.target;\n    const selection = window.getSelection();\n    const range = document.createRange();\n    range.selectNodeContents(shortUrlEl);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"shorturl-form-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Please enter Long URL and submit to get short URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"long-ur-textbox\",\n          children: /*#__PURE__*/_jsxDEV(TextInput, {\n            type: \"url\",\n            placeholder: \"Enter Long URL\",\n            value: longURL,\n            onChange: e => setLongURL(e.target.value),\n            errorText: formErrorMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onLongURLSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), shortUrlData && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"short-url-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Short URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: onShortUrlClick,\n          children: `${AppConstants.WEBSITE_HOST_ADDRESS}${shortUrlData.shortId}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShortUrlGenerateForm, \"QX0kHHomlaceVxcwyaN6eLFmmRk=\");\n\n_c = ShortUrlGenerateForm;\nexport default ShortUrlGenerateForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShortUrlGenerateForm\");","map":{"version":3,"sources":["/Users/balajeeasishbrahmandam/Downloads/URL Shortner/url-shortener-web-master/src/pages/ShortUrlGenerateForm/index.js"],"names":["React","useState","TextInput","AppConstants","ShortUrlGenerateForm","longURL","setLongURL","isFormLoading","setIsFormLoding","formErrorMessage","setFormErrorMessage","shortUrlData","setShortUrlData","onLongURLSubmit","fetch","API_URL","method","body","JSON","stringify","headers","then","response","ok","json","data","errorMessage","onShortUrlClick","e","shortUrlEl","target","selection","window","getSelection","range","document","createRange","selectNodeContents","removeAllRanges","addRange","value","WEBSITE_HOST_ADDRESS","shortId"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport TextInput from \"../../components/TextInput\";\nimport AppConstants from \"../../App.constants\";\nimport \"./ShortUrlGenerateForm.scss\";\n\nconst ShortUrlGenerateForm = () => {\n  const [longURL, setLongURL] = useState(\"\");\n  const [isFormLoading, setIsFormLoding] = useState(false);\n  const [formErrorMessage, setFormErrorMessage] = useState(\"\");\n  const [shortUrlData, setShortUrlData] = useState(null);\n\n  const onLongURLSubmit = () => {\n    setIsFormLoding(true);\n    setShortUrlData(null);\n    fetch(`${AppConstants.API_URL}/urls`, {\n      method: \"post\",\n      body: JSON.stringify({\n        longURL,\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        } else {\n          response.json().then((data) => {\n            setFormErrorMessage(data.errorMessage);\n            setIsFormLoding(false);\n          });\n        }\n      })\n      .then((data) => {\n        setShortUrlData(data);\n        setIsFormLoding(false);\n        setFormErrorMessage(\"\");\n      });\n  };\n\n  const onShortUrlClick = (e) => {\n    const shortUrlEl = e.target;\n    const selection = window.getSelection();\n    const range = document.createRange();\n    range.selectNodeContents(shortUrlEl);\n    selection.removeAllRanges();\n    selection.addRange(range);\n  };\n\n  return (\n    <div className=\"shorturl-form-wrapper\">\n      <div className=\"card\">\n        <form>\n          <h4>Please enter Long URL and submit to get short URL</h4>\n          <div className=\"long-ur-textbox\">\n            <TextInput\n              type=\"url\"\n              placeholder=\"Enter Long URL\"\n              value={longURL}\n              onChange={(e) => setLongURL(e.target.value)}\n              errorText={formErrorMessage}\n            />\n          </div>\n          <button type=\"button\" onClick={onLongURLSubmit}>\n            Submit\n          </button>\n        </form>\n        {shortUrlData && (\n          <div className=\"short-url-wrapper\">\n            <h4>Short URL</h4>\n            <span\n              onClick={onShortUrlClick}\n            >{`${AppConstants.WEBSITE_HOST_ADDRESS}${shortUrlData.shortId}`}</span>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ShortUrlGenerateForm;\n"]},"metadata":{},"sourceType":"module"}